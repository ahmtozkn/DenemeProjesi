@model List<OrderVm>

@{

    var orderDetailList = (List<OrderDetailVm>)ViewBag.OrderDetail;
    var totalQuantity = 0;
}

<h1 style="text-align:center">Siparişlerim</h1>

@foreach(var item in Model)
{

    <div class="row mb-3 justify-content-center">
        <div class=" justify-content-center col-8 card" style="background-color:whitesmoke">
                <div class="card-header" style="background-color:whitesmoke;width:100%">
                    <div class="row"style="background-color:whitesmoke;width:100%">
                        <div class=" col-8 text-right">
                            <div style =" opacity: 0.7;">
                                @item.CreatedDate
                            </div>
                            <div>
                                <span style=" opacity: 0.7;">Toplam:</span>   <span style="color:darkorange">  @item.TotalPrice TL</span>
                            </div>
                           </div>
                           <div class="col-4 ml-5 container">
                        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-end">
                            <a asp-controller="Order" asp-action="OrderDetail" asp-route-orderId="@item.Id" style="text-align:left;color:darkorange;font-size:large" class="btn">Detaylar ></a>
                        </div>
                           
                       
                        </div>
                    
                    </div>
                 

                </div>
                <div style="margin-bottom:10px">
                @if (item.OrderStatus == OrderStatusEnum.SiparisHazırlanıyor)
                {
                    <i style="font-size:large;margin-bottom:15px;margin-top:6px" class="fas fa-hourglass">Sipariş Hazırlanıyor</i>
                }
                else if (item.OrderStatus == OrderStatusEnum.KargoyaVerildi)
                {
                    <i style="color:darkorange;font-size:large;margin-bottom:15px;margin-top:6px" class="fas fa-shipping-fast fa-5x"> Kargoya Verildi</i>
                }                  
                else if (item.OrderStatus == OrderStatusEnum.TeslimEdildi)
                {
                    <i style="color:green;font-size:large;margin-bottom:15px;margin-top:6px" class="fas fa-check-circle"> Teslim Edildi</i>
                }
                
                <div>  
                    @foreach (var orderDetail in orderDetailList)
                    {

                        @if (item.Id == orderDetail.OrderId)
                        {


                            <img src="~/Images/products/@orderDetail.ImagePath" width="100" height="130" />



                        }
                     

                    }
                    </div>

                    <div> 
                        
                    </div>
                </div>
           
            </div>
        </div>
  
   @*  <div class="row">
        <div class="row justify-content-center">
    <div style="background-color:whitesmoke" class=" card shadow-sm col-md-6">

       <div class="card-header">
           <div class="row">
               <div class="col">
                   @item.CreatedDate
                            <a style="text-align:" class="btn btn-success">Detay</a>   
                        </div>

           </div>


       </div>




    </div>
    </div>

</div> *@

}

















@* 
<div class="row">

    <div class="col-12">
        @foreach (var item in Model)
        {   
            <div class="row mt-1" style="margin-bottom:10px;background-color:whitesmoke">
                <div class="col-7" style="text-align:left"> 
                    <div class="row">
                        <div class="col-4">
                @foreach(var orderDetail in orderDetailList)
                {
                   
                    @if (item.Id==orderDetail.OrderId)
                    {
                          

                    <img src="~/Images/products/@orderDetail.ImagePath" width="155" height="155" />
                  
                  

                    }
               

                  }
                        </div>

                    </div>
                </div>
               

                <div class="col-2" style="margin-top:70px;text-align:right">

                   @item.OrderStatus.ToString()

                </div>
                <div class="col-2" style="color:darkorange;margin-top:70px;font-weight:bold;text-align:center">
                    <h5>@item.TotalPrice   </h5>
                </div>
                <div id="Delete" class="col-1" style="margin-top:70px">
                    <a class="btn" style="background-color:darkorange" asp-controller="Order" asp-action="Detail">
                        Ürün Detay
                    </a>
                </div>
            </div>
        }

    </div>
  

</div> *@